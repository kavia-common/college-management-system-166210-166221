{"is_source_file": true, "format": "Python", "description": "This file provides utility functions for creating and verifying access tokens (JWT-like tokens) used for authentication purposes within a Flask application. It handles encoding, decoding, signature creation, and validation of tokens, including expiry check.", "external_files": ["flask.current_app", "json", "hmac", "base64", "time", "hashlib.sha256", "typing.Optional", "typing.Dict"], "external_methods": ["current_app.config", "json.dumps", "json.loads", "hmac.new", "hmac.compare_digest", "base64.urlsafe_b64encode", "base64.urlsafe_b64decode"], "published": ["create_access_token", "verify_access_token"], "classes": [], "methods": [{"name": "str _b64encode(data: bytes)", "description": "Encodes bytes data into a URL-safe Base64 string without padding.", "scope": "", "scopeKind": ""}, {"name": "bytes _b64decode(data: str)", "description": "Decodes a URL-safe Base64 string into bytes, adding padding if necessary.", "scope": "", "scopeKind": ""}, {"name": "str create_access_token(user_id: int, role: str)", "description": "Creates a signed JWT-lite token for a specified user ID and role, with an expiry time set from app configuration.", "scope": "", "scopeKind": ""}, {"name": "Optional[Dict] verify_access_token(token: str)", "description": "Validates a token's signature and expiry, returning the payload if valid, otherwise None.", "scope": "", "scopeKind": ""}], "calls": ["base64.urlsafe_b64encode", "json.dumps", "json.loads", "hmac.new", "hmac.compare_digest", "base64.urlsafe_b64decode", "current_app.config", "time.time"], "search-terms": ["token_utils", "JWT-lite", "access_token", "create_access_token", "verify_access_token", "HMAC signature", "token creation", "token validation"], "state": 2, "file_id": 11, "knowledge_revision": 23, "git_revision": "", "ctags": [{"_type": "tag", "name": "_b64decode", "path": "/home/kavia/workspace/code-generation/college-management-system-166210-166221/college_management_backend/app/token_utils.py", "pattern": "/^def _b64decode(data: str) -> bytes:$/", "language": "Python", "typeref": "typename:bytes", "kind": "function", "signature": "(data: str)"}, {"_type": "tag", "name": "_b64encode", "path": "/home/kavia/workspace/code-generation/college-management-system-166210-166221/college_management_backend/app/token_utils.py", "pattern": "/^def _b64encode(data: bytes) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(data: bytes)"}, {"_type": "tag", "name": "create_access_token", "path": "/home/kavia/workspace/code-generation/college-management-system-166210-166221/college_management_backend/app/token_utils.py", "pattern": "/^def create_access_token(user_id: int, role: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(user_id: int, role: str)"}, {"_type": "tag", "name": "verify_access_token", "path": "/home/kavia/workspace/code-generation/college-management-system-166210-166221/college_management_backend/app/token_utils.py", "pattern": "/^def verify_access_token(token: str) -> Optional[Dict]:$/", "language": "Python", "typeref": "typename:Optional[Dict]", "kind": "function", "signature": "(token: str)"}], "hash": "37228b2fdea22e7720c3b52e07c189b5", "format-version": 4, "code-base-name": "college_management_backend", "filename": "college_management_backend/app/token_utils.py", "revision_history": [{"23": ""}]}